# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2026, International Digital Economy Academy
# This file is distributed under the same license as the MoonBit package.
# FIRST AUTHOR <EMAIL@ADDRESS>, 2026.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: MoonBit \n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2026-01-04 10:54+0800\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language: zh_CN\n"
"Language-Team: zh_CN <LL@li.org>\n"
"Plural-Forms: nplurals=1; plural=0;\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=utf-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Generated-By: Babel 2.16.0\n"

#: ../../language/tests.md:1
msgid "Writing Tests"
msgstr "编写测试"

#: ../../language/tests.md:3
msgid ""
"Tests are important for improving quality and maintainability of a program. "
"They verify the behavior of a program and also serves as a specification to "
"avoid regressions over time."
msgstr "测试对于提高程序的质量和可维护性很重要。它们验证程序的行为，也作为规范，以避免随时间的推移出现退步。"

#: ../../language/tests.md:5
msgid "MoonBit comes with test support to make the writing easier and simpler."
msgstr "MoonBit 提供测试支持，使编写测试更加简单和容易。"

#: ../../language/tests.md:7
msgid "Test Blocks"
msgstr "测试块"

#: ../../language/tests.md:9
msgid ""
"MoonBit provides the test code block for writing inline test cases. For "
"example:"
msgstr "MoonBit 提供测试代码块，用于编写内联测试用例。例如："

#: ../../language/tests.md:11
msgid ""
"test \"test_name\" {\n"
"  assert_eq(1 + 1, 2)\n"
"  assert_eq(2 + 2, 4)\n"
"  inspect([1, 2, 3], content=\"[1, 2, 3]\")\n"
"}\n"
msgstr ""

#: ../../language/tests.md:17
msgid ""
"A test code block is essentially a function that returns a `Unit` but may "
"throws an [`Error`](/language/error-handling.md#error-types), or "
"`Unit!Error` as one would see in its signature at the position of return "
"type. It is called during the execution of `moon test` and outputs a test "
"report through the build system. The `assert_eq` function is from the "
"standard library; if the assertion fails, it prints an error message and "
"terminates the test. The string `\"test_name\"` is used to identify the test"
" case and is optional."
msgstr ""
"测试代码块本质上是一个返回 `Unit` 抛出 [`Error`](/language/error-handling.md#error-types) "
"的函数，或者说返回值签名为 `Unit!Error`。它在执行 `moon test` 期间被调用，并通过构建系统输出测试报告。`assert_eq` "
"函数来自标准库；如果断言失败，它会打印错误消息并终止测试。字符串 `\"test_name\"` 用于标识测试用例，是可选的。"

#: ../../language/tests.md:19
msgid ""
"If a test name starts with `\"panic\"`, it indicates that the expected "
"behavior of the test is to trigger a panic, and the test will only pass if "
"the panic is triggered. For example:"
msgstr "如果测试名称以 `\"panic\"` 开头，表示测试的预期行为是触发 panic，只有在触发 panic 时测试才会通过。例如："

#: ../../language/tests.md:21
msgid ""
"test \"panic_test\" {\n"
"  let _ : Int = Option::None.unwrap()\n"
"\n"
"}\n"
msgstr ""

#: ../../language/tests.md:27
msgid "Snapshot Tests"
msgstr "快照测试"

#: ../../language/tests.md:29
msgid ""
"Writing tests can be tedious when specifying the expected values. Thus, "
"MoonBit provides three kinds of snapshot tests. All of which can be inserted"
" or updated automatically using `moon test --update`."
msgstr ""
"在指定预期值时，编写测试可能会很繁琐。因此，MoonBit 提供了三种快照测试。所有这些都可以使用 `moon test --update` "
"自动插入或更新。"

#: ../../language/tests.md:32
msgid "Snapshotting `Show`"
msgstr "快照 `Show`"

#: ../../language/tests.md:34
msgid ""
"We can use `inspect(x, content=\"x\")` to inspect anything that implements "
"`Show` trait.  As we mentioned before, `Show` is a builtin trait that can be"
" derived, providing `to_string` that will print the content of the data "
"structures.  The labelled argument `content` can be omitted as `moon test "
"--update` will insert it for you:"
msgstr ""
"我们可以使用 `inspect(x, content=\"x\")` 来检查实现了 `Show` 特征的任何内容。正如我们之前提到的，`Show` "
"是一个可以派生的内建特征，提供了 `to_string`来打印数据结构的内容。标记参数 `content` 可以省略，因为 `moon test "
"--update` 会自动插入："

#: ../../language/tests.md:38
msgid ""
"struct X {\n"
"  x : Int\n"
"} derive(Show)\n"
"\n"
"test \"show snapshot test\" {\n"
"  inspect({ x: 10 }, content=\"{x: 10}\")\n"
"}\n"
msgstr ""

#: ../../language/tests.md:44
msgid "Snapshotting `JSON`"
msgstr "快照 `JSON`"

#: ../../language/tests.md:46
msgid ""
"The problem with the derived `Show` trait is that it does not perform pretty"
" printing, resulting in extremely long output."
msgstr "派生的 `Show` 特征的问题是它不能对输出进行格式化，导致输出非常长。"

#: ../../language/tests.md:48
msgid ""
"The solution is to use `@json.inspect(x, content=x)`. The benefit is that "
"the resulting content is a JSON structure, which can be more readable after "
"being formatted."
msgstr "解决方案是使用 `@json.inspect(x, content=x)`。其好处是生成的内容是一个 JSON 结构，在格式化后更易读。"

#: ../../language/tests.md:50
msgid ""
"enum Rec {\n"
"  End\n"
"  Really_long_name_that_is_difficult_to_read(Rec)\n"
"} derive(Show, ToJson)\n"
"\n"
"test \"json snapshot test\" {\n"
"  let r = Really_long_name_that_is_difficult_to_read(\n"
"    Really_long_name_that_is_difficult_to_read(\n"
"      Really_long_name_that_is_difficult_to_read(End),\n"
"    ),\n"
"  )\n"
"  inspect(\n"
"    r,\n"
"    "
"content=\"Really_long_name_that_is_difficult_to_read(Really_long_name_that_is_difficult_to_read(Really_long_name_that_is_difficult_to_read(End)))\","
"\n"
"  )\n"
"  @json.inspect(r, content=[\n"
"    \"Really_long_name_that_is_difficult_to_read\",\n"
"    [\n"
"      \"Really_long_name_that_is_difficult_to_read\",\n"
"      [\"Really_long_name_that_is_difficult_to_read\", \"End\"],\n"
"    ],\n"
"  ])\n"
"}\n"
msgstr ""

#: ../../language/tests.md:56
msgid ""
"One can also implement a custom `ToJson` to keep only the essential "
"information."
msgstr "也可以实现自定义 `ToJson` 来保留必要的信息。"

#: ../../language/tests.md:58
msgid "Snapshotting Anything"
msgstr "快照任何内容"

#: ../../language/tests.md:60
msgid ""
"Still, sometimes we want to not only record one data structure but the "
"output of a whole process."
msgstr "有时我们不仅要记录一个数据结构，还要记录整个过程的输出。"

#: ../../language/tests.md:62
msgid ""
"A full snapshot test can be used to record anything using `@test.T::write` "
"and `@test.T::writeln`:"
msgstr "可以使用完整的快照测试使用 `@test.T::write` 和 `@test.T::writeln` 记录任何内容："

#: ../../language/tests.md:64
msgid ""
"test \"record anything\" (t : @test.Test) {\n"
"  t.write(\"Hello, world!\")\n"
"  t.writeln(\" And hello, MoonBit!\")\n"
"  t.snapshot(filename=\"record_anything.txt\")\n"
"}\n"
msgstr ""

#: ../../language/tests.md:70
msgid ""
"This will create a file under `__snapshot__` of that package with the given "
"filename:"
msgstr "这将在该包的 `__snapshot__` 下创建一个具有给定文件名的文件："

#: ../../language/tests.md:72
msgid "Hello, world! And hello, MoonBit!\n"
msgstr ""

#: ../../language/tests.md:75
msgid ""
"This can also be used for applications to test the generated output, whether"
" it were creating an image, a video or some custom data."
msgstr "这也可以用于测试应用程序的输出，无论是创建图像、视频还是一些自定义数据。"

#: ../../language/tests.md:77
msgid ""
"Please note that `@test.T::snapshot` should be used at the end of a test "
"block, as it always raises exception."
msgstr "请注意，`@test.T::snapshot` 应该在测试块的末尾使用，因为它总是引发异常。"

#: ../../language/tests.md:79
msgid "BlackBox Tests and WhiteBox Tests"
msgstr "黑盒测试和白盒测试"

#: ../../language/tests.md:81
msgid ""
"When developing libraries, it is important to verify if the user can use it "
"correctly. For example, one may forget to make a type or a function public. "
"That's why MoonBit provides BlackBox tests, allowing developers to have a "
"grasp of how others are feeling."
msgstr ""
"在开发库时，验证用户是否可以正确使用它是很重要的。例如，可能会忘记使类型或函数公开。这就是为什么 MoonBit "
"提供了黑盒测试，允许开发人员了解其他人的感受。"

#: ../../language/tests.md:83
msgid ""
"A test that has access to all the members in a package is called a WhiteBox "
"tests as we can see everything. Such tests can be defined inline or defined "
"in a file whose name ends with `_wbtest.mbt`."
msgstr "能够访问包中所有成员的测试称为白盒测试，因为我们可以看到一切。这样的测试可以内联定义，也可以在文件中定义，文件名以 `_wbtest.mbt` 结尾。"

#: ../../language/tests.md:85
msgid ""
"A test that has access only to the public members in a package is called a "
"BlackBox tests. Such tests need to be defined in a file whose name ends with"
" `_test.mbt`."
msgstr "只能访问包中公开成员的测试称为黑盒测试。这样的测试需要在文件中定义，文件名以 `_test.mbt` 结尾。"

#: ../../language/tests.md:87
msgid ""
"The WhiteBox test files (`_wbtest.mbt`) imports the packages defined in the "
"`import` and `wbtest-import` sections of the package configuration "
"(`moon.pkg.json`)."
msgstr ""
"白盒测试文件（`_wbtest.mbt`）导入包配置（`moon.pkg.json`）中的 `import` 和 `wbtest-import` "
"部分定义的包。"

#: ../../language/tests.md:89
msgid ""
"The BlackBox test files (`_test.mbt`) imports the current package and the "
"packages defined in the `import` and `test-import` sections of the package "
"configuration (`moon.pkg.json`)."
msgstr ""
"黑盒测试文件（`_test.mbt`）导入当前包和包配置（`moon.pkg.json`）中的 `import` 和 `test-import` "
"部分定义的包。"

